"use strict";var H=Object.create;var f=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var G=Object.getOwnPropertyNames;var X=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var q=(e,t)=>{for(var o in t)f(e,o,{get:t[o],enumerable:!0})},O=(e,t,o,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of G(t))!j.call(e,r)&&r!==o&&f(e,r,{get:()=>t[r],enumerable:!(s=U(t,r))||s.enumerable});return e};var l=(e,t,o)=>(o=e!=null?H(X(e)):{},O(t||!e||!e.__esModule?f(o,"default",{value:e,enumerable:!0}):o,e)),z=e=>O(f({},"__esModule",{value:!0}),e);var se={};q(se,{activate:()=>te,deactivate:()=>oe});module.exports=z(se);var a=l(require("vscode")),w="styletoken";var k=a.DecorationRangeBehavior.ClosedClosed,y={Center:a.OverviewRulerLane.Center,Full:a.OverviewRulerLane.Full,Left:a.OverviewRulerLane.Left,Right:a.OverviewRulerLane.Right},v={100:"FF",99:"FC",98:"FA",97:"F7",96:"F5",95:"F2",94:"F0",93:"ED",92:"EB",91:"E8",90:"E6",89:"E3",88:"E0",87:"DE",86:"DB",85:"D9",84:"D6",83:"D4",82:"D1",81:"CF",80:"CC",79:"C9",78:"C7",77:"C4",76:"C2",75:"BF",74:"BD",73:"BA",72:"B8",71:"B5",70:"B3",69:"B0",68:"AD",67:"AB",66:"A8",65:"A6",64:"A3",63:"A1",62:"9E",61:"9C",60:"99",59:"96",58:"94",57:"91",56:"8F",55:"8C",54:"8A",53:"87",52:"85",51:"82",50:"80",49:"7D",48:"7A",47:"78",46:"75",45:"73",44:"70",43:"6E",42:"6B",41:"69",40:"66",39:"63",38:"61",37:"5E",36:"5C",35:"59",34:"57",33:"54",32:"52",31:"4F",30:"4D",29:"4A",28:"47",27:"45",26:"42",25:"40",24:"3D",23:"3B",22:"38",21:"36",20:"33",19:"30",18:"2E",17:"2B",16:"29",15:"26",14:"24",13:"21",12:"1F",11:"1C",10:"1A",9:"17",8:"14",7:"12",6:"0F",5:"0D",4:"0A",3:"08",2:"05",1:"03",0:"00"};var d=l(require("vscode"));var E=l(require("vscode"));var S=e=>{let t=J(e),o=K(t,e);return t.reduce((s,r,n)=>({...s,[r]:o[n]}),{})},J=e=>Object.keys(E.workspace.getConfiguration(e)).filter(t=>/^token\d$/.test(t)),K=(e,t)=>{let o=[];return e.forEach(s=>{let r=E.workspace.getConfiguration(`${`${t}.${s}`}`),n={backgroundColor:m(r.get("backgroundColor")),borderWidth:r.get("borderWidth"),borderStyle:r.get("borderStyle"),overviewRulerColor:m(r.get("overviewRulerColor")),overviewRulerLane:y[`${r.get("overviewRulerLane")}`],light:{borderColor:m(r.get("borderColor"))},dark:{borderColor:m(r.get("borderColor"))},rangeBehavior:k},i={isCaseSensitive:r.get("isCaseSensitive")??!0,isMatchWholeWord:r.get("isMatchWholeWord")??!1};o.push({decorator:n,option:i})}),o},m=e=>{if(typeof e=="string"){let t=e.split("."),o=t[0],s=Number(t[1]);switch(!0){case Number.isNaN(s):case s>100:return o+v[100];case s<0:return o+v[0];default:return o+v[s]}}};var R=l(require("vscode"));var p=l(require("vscode")),T=()=>{if(p.window.activeTextEditor!=null)return p.window.activeTextEditor.document.uri},C=()=>{let e=p.window.activeTextEditor;if(e==null)return;let t=e.selection.start,o=e.selection.isEmpty?e.document.getWordRangeAtPosition(t):e.selection;if(o!=null)return e.document.getText(o)},P=(e,t)=>{let o=t.positions;return o.find(s=>s.isAfter(e.selection.start))??o[0]},N=(e,t)=>{let o=t.positions,s=o.findIndex(r=>r.isAfterOrEqual(e.selection.start));return s===-1?o.slice(s)[0]:o.slice(s-1)[0]},F=(e,t)=>e.document.positionAt(t),Q=(e,t)=>new p.Range(F(e,t.startOffset),F(e,t.endOffset)),u=(e,t)=>t.map(o=>Q(e,o));var g=(e,t,o)=>{o=t.isCaseSensitive===!0?o:o.toLowerCase();let s=t.isCaseSensitive===!0?e.document.getText():e.document.getText().toLowerCase(),r={flatRanges:[],lastOffset:0};return s.split(o).slice(0,-1).reduce((c,x)=>{let D=c.lastOffset+x.length,b=D+o.length;return{flatRanges:c.flatRanges.concat({startOffset:D,endOffset:b}),lastOffset:b}},r).flatRanges};var L=(e,t)=>{let o=C();if(o==null)return;let r=[...t.getCachedEditor(e)?.ranges??[],...u(e,g(e,t.options,o))],n=r.map(i=>i.start).sort((i,c)=>e.document.offsetAt(i)-e.document.offsetAt(c));t.addCachedEditor(e,[],n,r,o),e.setDecorations(t.decorator,r)},B=(e,t)=>{let o=C();if(o==null)return;let s=u(e,g(e,t.options,o)),r=s.map(n=>n.start);t.setCachedEditor(e,[],r,s,o),e.setDecorations(t.decorator,s)},A=(e,t)=>{t.removeCachedEditor(e),e.setDecorations(t.decorator,[])},_=(e,t)=>t.forEach(o=>A(e,o)),I=async(e,t)=>{let o=t.getCachedEditor(e);o!=null&&await R.commands.executeCommand("editor.action.goToLocations",T(),N(e,o),[],"goto")},M=async(e,t)=>{let o=t.getCachedEditor(e);o!=null&&await R.commands.executeCommand("editor.action.goToLocations",T(),P(e,o),[],"goto")};var W=(e,t)=>{let o=t.getCachedEditor(e)?.ranges;o!=null&&e.setDecorations(t.decorator,o)},$=(e,t)=>{let o=t.getCachedEditor(e)?.texts;if(o==null)return;let s=[];o.forEach(c=>{s.push(...g(e,t.options,c))});let r=u(e,s),n=s.map(c=>c.startOffset).sort((c,x)=>c-x),i=n.map(c=>e.document.positionAt(c));t.addCachedEditor(e,n,i,r,""),e.setDecorations(t.decorator,r)};var h=class{constructor(t,o){this.decorator=t;this.options=o}getCachedEditor(t){return this.paths?.[t.document.uri.path]}setCachedEditor(t,o,s,r,n){let i=t.document.uri.path;this.paths={...this.paths,[i]:{offsets:o,positions:s,ranges:r,texts:[n]}}}addCachedEditor(t,o,s,r,n){let i=t.document.uri.path;this.paths?.[i]!=null?(this.paths[i].offsets=Array.isArray(o)?this.paths[i].offsets:o,this.paths[i].positions=s,this.paths[i].ranges=r,this.paths[i].texts=n===""?this.paths[i].texts:this.paths[i].texts.concat(n)):this.setCachedEditor(t,o,s,r,n)}removeCachedEditor(t){let o=t.document.uri.path;this.paths?.[o]!=null&&delete this.paths[o]}};var V=e=>{let t=S(e),o=[],s=[];for(let[r,n]of Object.entries(t)){let i=new h(d.window.createTextEditorDecorationType(n.decorator),n.option);o.push(i),s.push(...Z(i)),s.push(...ee(e,i,r))}return s.push(...Y(e,o)),s},Y=(e,t)=>{let o=[_],s=[];return o.forEach(r=>{s.push(d.commands.registerCommand(`${e}.${r.name}`,()=>{let n=d.window.activeTextEditor;n!=null&&r(n,t)}))}),s},Z=e=>{let t=[];return t.push(d.window.onDidChangeVisibleTextEditors(()=>{let o=d.window.activeTextEditor;o!=null&&W(o,e)})),t.push(d.workspace.onDidChangeTextDocument(()=>{let o=d.window.activeTextEditor;o!=null&&$(o,e)})),t},ee=(e,t,o)=>{let s=[L,B,A,I,M],r=[];return s.forEach(n=>{r.push(d.commands.registerCommand(`${e}.${o}.${n.name}`,()=>{let i=d.window.activeTextEditor;i!=null&&n(i,t)}))}),r};function te(e){e.subscriptions.push(...V(w))}function oe(){}0&&(module.exports={activate,deactivate});
